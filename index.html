<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fotografía Gastronómica en Cochabamba | Estudio Graphica</title>
  <meta name="description" content="Fotografía gastronómica en Cochabamba. Restaurantes, delivery y marcas de alimentos con imágenes que venden." />
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619722/Logo_S_F_l66fym.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--y:#FFDE59;--ink:#1A1A1A}
    html{scroll-behavior:smooth}
    body{font-family:'Poppins',sans-serif;background:#fbfbfb;color:#000;letter-spacing:-.02em}

    /* Fondo sutil */
    .bg-blobs:before,.bg-blobs:after{content:"";position:fixed;z-index:-1;border-radius:50%;filter:blur(60px);opacity:.18;pointer-events:none}
    .bg-blobs:before{width:380px;height:380px;background:var(--y);top:6%;left:-120px}
    .bg-blobs:after{width:520px;height:520px;background:radial-gradient(circle at 30% 30%, var(--y) 0%, rgba(255,222,89,0) 70%);bottom:-120px;right:-160px}

    /* Glass base con sombras discretas */
    .glassize{position:relative;background:linear-gradient(135deg, rgba(255,255,255,0.22), rgba(255,255,255,0.06));
      border:1px solid rgba(255,255,255,0.35); border-top-color:rgba(255,255,255,0.6); border-left-color:rgba(255,255,255,0.45);
      backdrop-filter:blur(14px) saturate(130%); -webkit-backdrop-filter:blur(14px) saturate(130%);
      box-shadow: 0 6px 18px rgba(0,0,0,.08), inset 0 1px 0 rgba(255,255,255,.3);
    }
    .glass-card{border-radius:1.25rem}

    /* Botón más amarillo, aún translúcido */
    .btn{display:inline-block;border-radius:9999px;padding:1rem 1.8rem;font-weight:700;transition:transform .12s ease,filter .15s}
    .btn--glass{color:#000;background:linear-gradient(135deg, rgba(255,222,89,.92), rgba(255,222,89,.82));
      border:1px solid rgba(0,0,0,.06);box-shadow:0 10px 18px rgba(255,222,89,.24),0 1px 3px rgba(0,0,0,.06);backdrop-filter:blur(10px) saturate(120%)}
    .btn--glass:hover{filter:saturate(112%);transform:translateY(-1px)}

    /* Fotos con glass suave */
    .glass-photo{position:relative;border-radius:1rem;overflow:hidden;box-shadow: 0 16px 36px rgba(0,0,0,.12), 0 6px 14px rgba(0,0,0,.06)}
    .glass-photo>img{display:block;width:100%;height:100%;object-fit:cover}
    .glass-photo:before{content:"";position:absolute;inset:0;background:radial-gradient(90% 60% at 10% 0%, rgba(255,255,255,.28), rgba(255,255,255,0));opacity:.3;mix-blend-mode:screen;pointer-events:none}

    /* Portafolio: evitar que el scrollbar tape contenido */
    .pf-carousel{display:flex;gap:1.25rem;overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;padding-bottom:14px;scrollbar-gutter:stable both-edges}
    .pf-carousel::-webkit-scrollbar{height:10px}
    .pf-carousel::-webkit-scrollbar-thumb{background:#e6e6e6;border-radius:9999px}
    .pf-item{scroll-snap-align:start;flex:0 0 auto;width:300px}

    /* Modal */
    .modal{display:none;position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.9)}
    .modal__img{max-width:90%;max-height:90%;object-fit:contain}
    .modal__close{position:absolute;top:16px;right:24px;color:#fff;font-size:36px;line-height:1;cursor:pointer}

    /* --------------------------- */
    /* Antes / Después: tamaño nuevo, centrado y responsive */
    /* Wrapper controla el tamaño máximo y centra el bloque */
    .cmp-wrap{width:min(92vw, 720px);margin-inline:auto}
    @media (max-width:640px){
      .cmp-wrap{width:min(94vw, 520px)}
    }

    /* Bloque comparador */
    .cmp{position:relative;display:inline-block;border-radius:1rem;overflow:hidden;line-height:0}
    /* La imagen base define la proporción */
    .cmp>img{display:block;width:100%;height:auto}
    /* Capas superpuestas exactamente al contenedor */
    .cmp__layer{position:absolute;inset:0}
    .cmp__layer img{width:100%;height:100%;object-fit:cover}
    .cmp__before{clip-path:polygon(0 0,50% 0,50% 100%,0 100%);z-index:1}
    .cmp__divider{position:absolute;top:0;bottom:0;left:50%;width:2px;background:var(--y);z-index:2}
    .cmp__slider{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;border-radius:9999px;background:var(--y);box-shadow:0 0 0 2px rgba(255,255,255,.7);display:flex;align-items:center;justify-content:center;cursor:ew-resize;z-index:3}
    @media (max-width:640px){
      .cmp__slider{width:32px;height:32px}
    }

    /* Logos scroll */
    .logos-scroll{overflow:hidden;cursor:grab}
    .logos-scroll.dragging{cursor:grabbing}
    .logos-track{display:flex;gap:2rem;padding:.5rem 0;will-change:transform}
    .logo-card{width:180px;height:110px;flex:0 0 auto;display:flex;align-items:center;justify-content:center}
    .logo{max-width:100%;max-height:100%;object-fit:contain}

    /* Reveal */
    .reveal{opacity:0;transform:translateY(20px);transition:opacity .5s,transform .5s}
    .reveal.is-visible{opacity:1;transform:none}
  </style>
</head>
<body class="bg-blobs">
  <!-- Header -->
  <header class="fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between glassize" style="border-radius:16px; margin-top:.5rem;">
      <a href="#inicio" class="h-14 flex items-center">
        <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619722/Logo_S_F_l66fym.png" alt="Estudio Graphica" class="h-14 w-auto" />
      </a>
      <a href="#agendar" class="btn btn--glass">Agendar reunión</a>
    </div>
  </header>

  <!-- Hero -->
  <section id="inicio" class="pt-32 md:pt-40 pb-16 md:pb-24">
    <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-center">
      <div class="reveal">
        <h1 class="font-bold text-3xl md:text-4xl lg:text-5xl leading-tight mb-4 tracking-tighter">Contratar fotógrafo no es caro, caro es que tu negocio no venda.</h1>
        <p class="text-lg md:text-xl mb-6 text-gray-700">La gente come con los ojos primero.</p>
        <a href="#servicios" class="btn btn--glass">¡Quiero saber más!</a>
      </div>
      <div class="reveal">
        <div class="w-full h-80 md:h-96 lg:h-[500px] glass-photo">
          <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745611645/patata_brava_kjzngm.jpg" alt="Food photography Cochabamba" />
        </div>
      </div>
    </div>
  </section>

  <!-- Servicios -->
  <section id="servicios" class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-14 tracking-tighter reveal">Nuestros Servicios</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
        <article class="p-8 glassize glass-card text-center reveal">
          <h3 class="font-semibold text-xl mb-3">Fotografía Gastronómica</h3>
          <p class="text-gray-700">¿Vas a seguir tomando fotos de tu plato con el celular grasoso de tu cajero? Mejor deja que hagamos fotos que den hambre. Fotos que hacen que el cliente no solo vea el menú, sino que quiera lamerlo.</p>
        </article>
        <article class="p-8 glassize glass-card text-center reveal">
          <h3 class="font-semibold text-xl mb-3">Foodstyling Profesional</h3>
          <p class="text-gray-700">Un plato mal presentado mata más ventas que una mala reseña. Te ayudamos a que tus platos luzcan como portada de revista. Comida que posa mejor que varios influencers.</p>
        </article>
        <article class="p-8 glassize glass-card text-center reveal">
          <h3 class="font-semibold text-xl mb-3">Planes Mensuales</h3>
          <p class="text-gray-700">¿Publicas una vez cada eclipse? Tenemos planes mensuales para que tu contenido salga tan constante como tus cuentas por pagar. Nada de reciclar el mismo ceviche en San Valentín.</p>
        </article>
      </div>
      <p class="text-center italic text-lg mt-10 reveal">"Si cocinas con pasión, ¿por qué mostrarlo con vergüenza?"</p>
    </div>
  </section>

  <!-- Portafolio -->
  <section id="portafolio" class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-4 tracking-tighter reveal">Nuestro Portafolio</h2>
      <p class="text-center text-gray-600 max-w-2xl mx-auto mb-10 reveal">No ganes por ser barato. Gana porque nadie puede resistirse a verte.</p>
      <div class="reveal">
        <div id="pf" class="pf-carousel">
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619066/_MG_4717_de_tama%C3%B1o_grande_pq7nup.png" alt="Cookie Bar - Cafetería y galletería" />
            </div>
            <h3 class="font-semibold mt-3">Cookie Bar</h3>
            <p class="text-sm text-gray-600">Cafetería y galletería</p>
          </div>
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619069/IMG_9922_de_tama%C3%B1o_grande_um4gy8.png" alt="Vitz - Postres y helados" />
            </div>
            <h3 class="font-semibold mt-3">Vitz</h3>
            <p class="text-sm text-gray-600">Postres y helados</p>
          </div>
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619066/IMG_2073_de_tama%C3%B1o_grande_dsdllu.png" alt="Burger 91 - Hamburguesas y comida rápida" />
            </div>
            <h3 class="font-semibold mt-3">Burger 91</h3>
            <p class="text-sm text-gray-600">Hamburguesas y comida rápida</p>
          </div>
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619058/_MG_2260_de_tama%C3%B1o_grande_jvlymh.png" alt="Patata Brava - Papas fritas y comida rápida" />
            </div>
            <h3 class="font-semibold mt-3">Patata Brava</h3>
            <p class="text-sm text-gray-600">Papas fritas y comida rápida</p>
          </div>
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619064/IMG_7464_de_tama%C3%B1o_grande_uz14xx.png" alt="Sansei - Comida japonesa y sushi" />
            </div>
            <h3 class="font-semibold mt-3">Sansei</h3>
            <p class="text-sm text-gray-600">Comida japonesa y sushi</p>
          </div>
          <div class="pf-item">
            <div class="w-full h-64 rounded-2xl overflow-hidden portfolio-item glass-photo">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619072/IMG_1604_de_tama%C3%B1o_grande_jnmfvb.png" alt="Terra Brasa - Carnes y parrilla" />
            </div>
            <h3 class="font-semibold mt-3">Terra Brasa</h3>
            <p class="text-sm text-gray-600">Carnes y parrilla</p>
          </div>
        </div>
        <div class="text-center mt-8">
          <a class="btn btn--glass" href="https://estudiographica.myportfolio.com" target="_blank" rel="noopener">Ver portafolio completo</a>
        </div>
      </div>

      <!-- Modal -->
      <div id="modal" class="modal" role="dialog" aria-label="Vista ampliada" aria-modal="true">
        <button id="modalClose" class="modal__close" aria-label="Cerrar">×</button>
        <div class="w-full h-full flex items-center justify-center">
          <img id="modalImg" class="modal__img" alt="" />
        </div>
        <div id="modalCap" class="text-white text-center font-poppins pb-6"></div>
      </div>
    </div>
  </section>

  <!-- Conoce al fotógrafo -->
  <section id="fotografo" class="py-16 md:py-24">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-12 tracking-tighter reveal">Conoce a tu fotógrafo</h2>
      <div class="grid md:grid-cols-3 items-center gap-10">
        <div class="reveal md:col-span-1">
          <!-- SIN glass ni sombras -->
          <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619204/Perfil_Png_Nuevo_aosfas.png" alt="Fotógrafo de Estudio Graphica" class="block w-full h-auto" />
        </div>
        <div class="reveal md:col-span-2 max-w-2xl text-justify leading-relaxed">
          <p class="text-lg md:text-xl mb-4">En todas las páginas hay un apartado donde el fotógrafo presume de sus títulos o años de experiencia, pero nadie lo lee. ¿Sabes por qué?</p>
          <p class="text-lg md:text-xl mb-6 font-semibold">Porque a nadie le importa. Tú quieres resultados para tu marca.</p>
          <p class="text-lg md:text-xl mb-6">Mi mejor carta de presentación es mi portafolio, porque eso es exactamente lo que te puedo ofrecer.</p>
          <a class="btn btn--glass" href="#portafolio">Ver portafolio completo</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Antes y Después -->
  <section id="antes-despues" class="py-16 md:py-24">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-6 tracking-tighter reveal">Antes y Después</h2>
      <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10 reveal">¿Ves la diferencia? Tus clientes también la ven. La pregunta es: ¿qué versión les vas a mostrar?</p>
      <div class="reveal">
        <!-- WRAPPER NUEVO que reduce tamaño y centra -->
        <div class="cmp-wrap">
          <div id="cmp" class="cmp glass-card glassize">
            <!-- Imagen base: define tamaño del bloque -->
            <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745819075/2_ylgf7o.jpg" alt="Después" />
            <!-- Capa "Antes" superpuesta -->
            <div id="cmpBefore" class="cmp__layer cmp__before">
              <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745819075/1_ymdvor.jpg" alt="Antes" />
            </div>
            <div id="cmpDivider" class="cmp__divider"></div>
            <button id="cmpSlider" type="button" class="cmp__slider" aria-label="Deslizar comparador">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12H3M9 6l-6 6 6 6M15 6l6 6-6 6"/></svg>
            </button>
          </div>
        </div>
        <p class="text-center mt-4 font-semibold">Desliza para ver la diferencia</p>
      </div>
    </div>
  </section>

  <!-- Beneficios -->
  <section id="beneficios" class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-14 tracking-tighter reveal">¿Por qué elegirnos?</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-10 text-center">
        <div class="reveal">
          <div class="text-5xl md:text-6xl font-bold" style="color:var(--y)">+9</div>
          <p class="text-xl">años antojando clientes</p>
        </div>
        <div class="reveal">
          <div class="text-5xl md:text-6xl font-bold" style="color:var(--y)">+300</div>
          <p class="text-xl">marcas fotografiadas</p>
        </div>
        <div class="reveal">
          <div class="text-5xl md:text-6xl font-bold" style="color:var(--y)">x2</div>
          <p class="text-xl">sesiones que duplican la intención de compra</p>
        </div>
      </div>
      <div class="text-center mt-12 reveal">
        <p class="text-xl italic mb-6">"Contratar fotógrafo no es caro, no vender es caro."</p>
        <a class="btn btn--glass" href="#agendar">Agendar reunión</a>
      </div>
    </div>
  </section>

  <!-- Clientes (autoscroll más rápido) -->
  <section id="clientes" class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="font-bold text-3xl md:text-4xl text-center mb-12 tracking-tighter reveal">Marcas que ya han confiado en nosotros</h2>
      <div id="logosWrap" class="reveal logos-scroll glass-card glassize">
        <div id="logos" class="logos-track">
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166368/1_vegdk8.png" alt="Patata Brava" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166368/2_pdiecr.png" alt="Happy Fry" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166369/3_dt1nfk.png" alt="Globos" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166369/4_ssugqk.png" alt="Burger 91" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166370/5_exwkbr.png" alt="Pedidos Ya" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166371/6_gfjolm.png" alt="Terra Brasa" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166373/7_wi271i.png" alt="Vitz" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166374/8_pzfcfe.png" alt="Kansas" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166375/9_vuxq3e.png" alt="Para Ti" /></div>
          <div class="logo-card"><img class="logo" src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1749166376/10_p2jdke.png" alt="Cookie Bar" /></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Agendar -->
  <section id="agendar" class="py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4">
      <div class="p-8 md:p-12 glassize glass-card">
        <h2 class="font-bold text-3xl md:text-4xl text-center mb-4 tracking-tighter reveal">Agenda tu reunión ☕</h2>
        <p class="text-center text-gray-700 mb-8 reveal">Cuéntanos sobre tu proyecto y nos pondremos en contacto contigo para crear una propuesta personalizada.</p>
        <div class="text-center reveal">
          <a class="btn btn--glass text-lg" href="https://cal.com/themarketographer/reunión" target="_blank" rel="noopener">Agendar reunión</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-14">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col items-center justify-center">
        <img src="https://res.cloudinary.com/dplhu2z6j/image/upload/v1745619722/Logo_S_F_l66fym.png" alt="Estudio Graphica" class="h-16 w-auto mb-6" />
        <p class="text-gray-600 text-center">© 2025 Estudio Graphica. Fotografía gastronómica en Cochabamba.</p>
      </div>
    </div>
  </footer>

  <script>
    // Reveal on scroll
    (function(){
      var els = document.querySelectorAll('.reveal');
      if(!('IntersectionObserver' in window)){ els.forEach(function(e){ e.classList.add('is-visible'); }); return; }
      var io = new IntersectionObserver(function(entries){ entries.forEach(function(entry){ if(entry.isIntersecting){ entry.target.classList.add('is-visible'); io.unobserve(entry.target);} }); },{threshold:.15});
      els.forEach(function(e){ io.observe(e); });
    })();

    // Modal de imágenes del portafolio
    (function(){
      var pf = document.getElementById('pf');
      var modal = document.getElementById('modal');
      var modalImg = document.getElementById('modalImg');
      var modalCap = document.getElementById('modalCap');
      var close = document.getElementById('modalClose');
      if(!pf) return;
      pf.addEventListener('click', function(e){
        var img = e.target.closest('img');
        if(!img) return;
        modal.style.display='flex';
        modal.style.flexDirection='column';
        modal.style.alignItems='center';
        modal.style.justifyContent='center';
        modalImg.src = img.src; modalImg.alt = img.alt || '';
        modalCap.textContent = img.getAttribute('data-caption')||'';
        document.body.style.overflow='hidden';
      });
      function closeModal(){ modal.style.display='none'; document.body.style.overflow='auto'; }
      if(close) close.addEventListener('click', closeModal);
      modal && modal.addEventListener('click', function(ev){ if(ev.target===modal) closeModal(); });
    })();

    // Comparador Before/After: mantiene el slider dentro del contenedor
    (function(){
      var slider = document.getElementById('cmpSlider');
      var before = document.getElementById('cmpBefore');
      var divider = document.getElementById('cmpDivider');
      var box = document.getElementById('cmp');
      if(!slider||!before||!box) return;
      function setPos(px){
        var r = box.getBoundingClientRect();
        var p = ((px - r.left)/r.width)*100; if(p<0) p=0; if(p>100) p=100;
        before.style.clipPath = 'polygon(0 0,'+p+'% 0,'+p+'% 100%,0 100%)';
        slider.style.left = p+'%';
        divider.style.left = p+'%';
      }
      function move(e){ setPos(e.touches?e.touches[0].clientX:e.clientX); }
      function start(e){ e.preventDefault(); document.addEventListener('mousemove',move); document.addEventListener('touchmove',move,{passive:false}); }
      function end(){ document.removeEventListener('mousemove',move); document.removeEventListener('touchmove',move); }
      slider.addEventListener('mousedown',start); slider.addEventListener('touchstart',start,{passive:false});
      document.addEventListener('mouseup',end); document.addEventListener('touchend',end);
    })();

    // Auto-scroll + drag para logos (más rápido)
    (function(){
      var wrap = document.getElementById('logosWrap');
      var track = document.getElementById('logos');
      if(!wrap||!track) return;
      var items = Array.prototype.slice.call(track.children);
      items.forEach(function(n){ track.appendChild(n.cloneNode(true)); });
      var pos = 0, baseSpeed = 2.6, speed = baseSpeed, raf = null;
      var dragging=false, startX=0, startPos=0, lastX=0, lastT=0, velocity=0;
      var THROW_MULTIPLIER = 3.2, FRICTION = 0.94, MAX_THROW = 4.5;
      function loop(){ pos += speed; var half = track.scrollWidth/2; if(pos>=half) pos=0; track.style.transform='translateX(' + (-pos) + 'px)'; raf = requestAnimationFrame(loop); }
      function startLoop(){ if(!raf) raf = requestAnimationFrame(loop); }
      function stopLoop(){ if(raf){ cancelAnimationFrame(raf); raf=null; } }
      function normalize(){ var half = track.scrollWidth/2; if(pos<0) pos = half + pos%half; if(pos>=half) pos%=half; }
      function onDown(e){ dragging=true; wrap.classList.add('dragging'); stopLoop(); startX=(e.touches?e.touches[0].pageX:e.pageX); startPos=pos; lastX=startX; lastT=performance.now(); velocity=0; }
      function onMove(e){ if(!dragging) return; e.preventDefault(); var x=(e.touches?e.touches[0].pageX:e.pageX); var now=performance.now(); var dx=x-startX; pos=startPos-dx; normalize(); track.style.transform='translateX(' + (-pos) + 'px)'; var dt=Math.max(1, now-lastT); var v=(x-lastX)/dt; velocity=0.8*velocity+0.2*v; lastX=x; lastT=now; }
      function onUp(){ if(!dragging) return; dragging=false; wrap.classList.remove('dragging'); var throwBoost = Math.max(Math.min(velocity*THROW_MULTIPLIER, MAX_THROW), -MAX_THROW); speed = baseSpeed + (-throwBoost); (function decay(){ speed = baseSpeed + (speed - baseSpeed)*FRICTION; if(Math.abs(speed - baseSpeed) > 0.05){ requestAnimationFrame(decay); } else { speed = baseSpeed; } })(); startLoop(); }
      wrap.addEventListener('mousedown', onDown); wrap.addEventListener('touchstart', onDown, {passive:false});
      window.addEventListener('mousemove', onMove, {passive:false}); window.addEventListener('touchmove', onMove, {passive:false});
      window.addEventListener('mouseup', onUp); window.addEventListener('touchend', onUp);
      wrap.addEventListener('mouseenter', stopLoop); wrap.addEventListener('mouseleave', function(){ if(!dragging) startLoop(); });
      document.addEventListener('visibilitychange', function(){ if(document.hidden) stopLoop(); else if(!dragging) startLoop(); });
      startLoop(); track.setAttribute('data-autoscroll','on');
    })();
  </script>
</body>
</html>
